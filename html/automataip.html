<!DOCTYPE html> <!-- Declaración del tipo de documento HTML5 -->
<html lang="es"> <!-- Etiqueta raíz del documento, idioma español -->
<head>
  <!-- Meta información que no se muestra en la página pero es importante para el navegador -->
  <meta charset="UTF-8" /> <!-- Codificación de caracteres UTF-8 para soportar acentos y caracteres especiales -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <!-- Configuración para diseño responsive en dispositivos móviles -->
  <title>Validador de IP</title> <!-- Título que aparece en la pestaña del navegador -->
  <link rel="stylesheet" href="../css/automataIp.css" /> <!-- Enlace al archivo CSS externo para los estilos -->
</head>
<body>
  <!-- Contenedor principal de la aplicación -->
  <div class="container">
    <h1>Validador de IP</h1> <!-- Título principal visible en la página -->
    
    <!-- Campo de entrada de texto donde el usuario escribirá la IP -->
    <input type="text" id="ipInput" placeholder="Ingresa una dirección IP (ej: 192.168.1.1)" />
    
    <!-- Botón que ejecuta la función validar() cuando se hace clic -->
    <button onclick="validar()">Validar</button>
    
    <!-- Div vacío donde se mostrará el resultado de la validación -->
    <div id="resultado"></div>
  </div>

  <!-- Script JavaScript con tipo módulo para poder usar import/export -->
  <script type="module">
    // Importa la función validarIp desde el archivo automataip.js
    import { validarIp } from '../utils/automataip.js';

    // Define la función validar en el objeto window para hacerla accesible globalmente
    window.validar = function () {
      // Obtiene el valor del input, eliminando espacios en blanco al inicio y final
      const ip = document.getElementById('ipInput').value.trim();
      
      // Obtiene la referencia al div donde se mostrará el resultado
      const resultado = document.getElementById('resultado');
      
      // Llama a la función de validación importada y guarda el resultado
      const res = validarIp(ip);
      
      // Muestra el mensaje de resultado en el div
      resultado.textContent = res.message;
      
      // Asigna la clase CSS según el estado: 'valido' (verde) o 'invalido' (rojo)
      resultado.className = res.estado ? 'valido' : 'invalido';
    };
    
  </script>
</body>
</html>