<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Validador de IP</title>
  <link rel="stylesheet" href="../css/automata.css">
</head>
<body>
  <div class="container">
    <h1>Validador de Direcci√≥n IP</h1>
    <input type="text" id="ipInput" placeholder="Ej: 192.168.0.1">
    <button onclick="validarIP()">Validar</button>
    <div id="resultado"></div>
    <div id="globos-container"></div>
    <div id="error-container"></div>
  </div>

  <script>
    function validarIP() {
      const ip = document.getElementById('ipInput').value.trim();
      const globos = document.getElementById('globos-container');
      const error = document.getElementById('error-container');
      const resultado = document.getElementById('resultado');

      // Limpiar anteriores
      globos.innerHTML = '';
      error.innerHTML = '';
      resultado.textContent = '';

      const ipRegex = /^(25[0-5]|2[0-4][0-9]|1\d{2}|[1-9]?\d)(\.(25[0-5]|2[0-4][0-9]|1\d{2}|[1-9]?\d)){3}$/;

      if (ipRegex.test(ip)) {
        resultado.textContent = '‚úÖ Direcci√≥n IP v√°lida';
        resultado.style.color = 'green';
        lanzarGlobos();
      } else {
        resultado.textContent = '‚ùå Direcci√≥n IP inv√°lida';
        resultado.style.color = 'red';
        mostrarCaritasTristes();
      }
    }

    function lanzarGlobos() {
      const contenedor = document.getElementById('globos-container');
      for (let i = 0; i < 10; i++) {
        const globo = document.createElement('div');
        globo.className = 'globo';
        globo.style.left = `${Math.random() * 90}%`;
        globo.style.animationDelay = `${Math.random() * 2}s`;
        contenedor.appendChild(globo);
      }
    }

    function mostrarCaritasTristes() {
      const contenedor = document.getElementById('error-container');
      const mensajes = [
        'üò¢ Algo sali√≥ mal...',
        'üíî Revisa los puntos o valores mayores a 255.',
        'üò≠ ¬°Queremos ver globos, no errores!',
      ];
      mensajes.forEach(msg => {
        const p = document.createElement('p');
        p.textContent = msg;
        p.className = 'error-msg';
        contenedor.appendChild(p);
      });
    }
  </script>
</body>
</html>
